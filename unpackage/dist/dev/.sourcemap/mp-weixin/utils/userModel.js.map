{"version":3,"file":"userModel.js","sources":["utils/userModel.js"],"sourcesContent":["/**\r\n * 用户信息模型\r\n * 定义用户信息的数据结构和默认值\r\n */\r\n\r\n/**\r\n * 创建默认用户信息\r\n * @returns {Object} 默认用户信息对象\r\n */\r\nexport const createDefaultUserInfo = () => {\r\n  return {\r\n    userId: '', // 用户唯一标识\r\n    nickname: '熊猫奶茶会员', // 用户昵称\r\n    avatar: '/static/images/avatar.png', // 头像地址\r\n    phone: '', // 手机号\r\n    pandaCoins: 271, // 熊猫币\r\n    coupons: [], // 优惠券列表\r\n    medals: [], // 勋章列表\r\n    memberLevel: 0, // 会员等级\r\n    createTime: Date.now(), // 创建时间\r\n    lastLoginTime: Date.now(), // 最后登录时间\r\n  };\r\n};\r\n\r\n/**\r\n * 验证用户信息字段是否合法\r\n * @param {Object} userInfo - 用户信息对象\r\n * @returns {Boolean} 是否合法\r\n */\r\nexport const validateUserInfo = (userInfo) => {\r\n  if (!userInfo || typeof userInfo !== 'object') {\r\n    return false;\r\n  }\r\n  \r\n  // 基本字段类型验证\r\n  if (userInfo.userId && typeof userInfo.userId !== 'string') return false;\r\n  if (userInfo.nickname && typeof userInfo.nickname !== 'string') return false;\r\n  if (userInfo.phone && typeof userInfo.phone !== 'string') return false;\r\n  if (userInfo.pandaCoins !== undefined && typeof userInfo.pandaCoins !== 'number') return false;\r\n  \r\n  // 数组类型验证\r\n  if (userInfo.coupons && !Array.isArray(userInfo.coupons)) return false;\r\n  if (userInfo.medals && !Array.isArray(userInfo.medals)) return false;\r\n  \r\n  return true;\r\n};\r\n\r\n/**\r\n * 合并用户信息，使用默认值填充缺失字段\r\n * @param {Object} userInfo - 用户提供的信息\r\n * @returns {Object} 合并后的完整用户信息\r\n */\r\nexport const mergeWithDefaultUserInfo = (userInfo = {}) => {\r\n  const defaultInfo = createDefaultUserInfo();\r\n  return { ...defaultInfo, ...userInfo };\r\n}; "],"names":[],"mappings":";AASY,MAAC,wBAAwB,MAAM;AACzC,SAAO;AAAA,IACL,QAAQ;AAAA;AAAA,IACR,UAAU;AAAA;AAAA,IACV,QAAQ;AAAA;AAAA,IACR,OAAO;AAAA;AAAA,IACP,YAAY;AAAA;AAAA,IACZ,SAAS,CAAE;AAAA;AAAA,IACX,QAAQ,CAAE;AAAA;AAAA,IACV,aAAa;AAAA;AAAA,IACb,YAAY,KAAK,IAAK;AAAA;AAAA,IACtB,eAAe,KAAK,IAAK;AAAA;AAAA,EAC7B;AACA;AA8BY,MAAC,2BAA2B,CAAC,WAAW,OAAO;AACzD,QAAM,cAAc;AACpB,SAAO,EAAE,GAAG,aAAa,GAAG;AAC9B;;;"}